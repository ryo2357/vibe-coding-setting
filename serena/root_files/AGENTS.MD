# 基本方針

- このプロジェクトでは、GitHub Copilot によるコーディング計画と仕様書によって管理した開発を行います。
- 仕様書は各コーディング計画の実装で矛盾が生じないように、参照・更新されます。
- コード・実装の状況は SerenaMCP のメモリから取得します
- タスクが終わるたびに SerenaMCP に進捗状況を更新すること
- 将来の拡張性・追加機能の実装を行わないこと。報告書ファイルに提案するまでに留めること。

# Rust プロジェクト開発時の注意点

- 依存関係の追加は、Cargo.toml ファイルへの記述ではなく`cargo add` コマンドを使用してください。

# 開発フローの原則

## 1. 開発フロー（初回）

SerenaMCP に情報が存在しない場合は、以下のフローで開発を行います。

1. アイディアファイルからコーディング計画を作成
2. コーディング計画をもとに実装を実行
3. コーディング計画の実行後、実装内容からプロジェクトの仕様書を作成する

## 2. 開発フロー（2 回目以降）

SerenaMCP に情報が存在する場合は、以下のフローで開発を行います。

1. アイディアファイルと SerenaMCP から取得した現状の実装をもとにコーディング計画を作成
2. コーディング計画をもとに実装を実行
3. コーディング計画の実行後、実装内容を SerenaMCP に反映・更新する

## アイディアファイル

- アイディアファイルは `.docs/ideas` ディレクトリ内に Markdown 形式で記述します。
- 実装したい機能の概要と仕様を記述しています。

## コーディング計画

- コーディング計画は `.docs/plans` ディレクトリ内に Markdown 形式で記述します。
- コーディング計画の作成前に、`.docs/specs` ディレクトリ内の既存仕様書を参照し、矛盾のない計画を立案します。
- `.docs/specs` ディレクトリ内に仕様書が存在しない場合は、アイディアファイルをもとにコーディング計画を作成します。
- コーディング計画のファイル名は、以下のルールに従ってください。
  - 依頼内容に関連するキーワードを含めるようにします。
  - `YYYYMMDDhh-タイトル.md`の形式で、日付とタイトルを含めます。
  - タイトルは、内容を日本語で簡潔に表現するものとします
- 作成日時と参照にしたアイディアファイルを以下の形式でファイルに記述します。
  作成日時: YYYY-MM-DD hh:mm
  参照アイディアファイル: `<アイディアファイル名>`
  例:
  作成日時: 2025-07-10 12:00
  参照アイディアファイル: `001-idea.md`
- コーディング計画には以下を含める
  - 実装する機能
  - 機能の詳細な仕様
  - 技術的な実装方針

### コーディング計画分割時の留意点

- 実装手順が複数ある場合は分割を行います。
- 分割時は以下の原則に従います：
  - 各コーディング計画は独立して理解できるように分割する
  - 前のコーディング計画への依存関係を明記する
  - 各手順の最後にビルドでの確認できる範囲で分割する
- 分割を行う場合、次移行の手順の概要をコーディング計画に記述します。
- アイディアファイル・前回のコーディング計画・実装されたコードから、次のコーディング計画を作成します。
- 分割プランの構成例：
  - `01-`: 基本設計・環境構築・初回ビルド確認
  - `02-`: コアデータモデル実装
  - `03-`: UI の実装
  - `04-`: 操作機能の実装
  - `05-`: 制御機能の実装

## 報告書

- コーディング計画の実行完了後は、実装内容をもとに報告書を作成します。
- 報告書の作成はユーザーが指示したタイミングで行います。
- 仕様書は `.docs/reports` ディレクトリ内に Markdown 形式で記述します。
- ファイル名は、以下のルールに従ってください。
  - 依頼内容に関連するキーワードを含めるようにします。
  - `YYYYMMDDhh-タイトル.md`の形式で、日付とタイトルを含めます。
- 作成日時と参照にしたコーディング計画を以下の形式でファイルに記述します。
  作成日時: YYYY-MM-DD hh:mm
  参照コーディング計画: `<コーディング計画のファイル名>`
  例:
  作成日時: 2025-07-10 12:00
  参照コーディング計画: `240101-add-user-feature.md`
- 報告書の内容には下記を完結にまとめます：
  - 実装内容の概要
  - 実装結果とコーディング計画の差異、差異の理由
